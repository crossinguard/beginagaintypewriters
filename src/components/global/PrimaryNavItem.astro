---
interface Props {
    link: string;
    label: string;
    home?: boolean;
}

const { link, label, home = false } = Astro.props;

const normalize = (path: string) => path.replace(/\/$/, "") || "/";
const isCurrentPage = normalize(Astro.url.pathname) === normalize(link);
---

<a
    aria-current={isCurrentPage ? "page" : "false"}
    href={link}
    class:list={[{ home }]}
>
    {label}
</a>

<style>
    a {
        display: inline-block;
        color: var(--color-dark-light);
        padding: 2px 10px;
        border: 2px solid var(--color-light);
        text-decoration: none;
        transition: border-color 0.2s ease-in-out;
        text-transform: uppercase;
    }

    a.home {
        font-weight: 700;
        border: 4px solid var(--color-light);

        &:hover {
            border-block-end: 4px solid var(--color-dark-light);
        }

        &[aria-current="page"] {
            border: 4px solid var(--color-dark-light);
        }
    }

    a:hover {
        border-block-end: 2px solid var(--color-dark-light);
    }

    a[aria-current="page"] {
        border: 2px solid var(--color-dark-light);
    }
</style>
